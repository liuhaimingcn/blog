<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>深入浅出ES6笔记 - 寻梦的尕柳</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="ES6 是什么
编程语言 JavaScript 是 ECMAScript 的实现和扩展,由 ECMA(一个类似 W3C 的标准组织)参与进行标准化。   
ES4 饱受争议,当标准委员会最终停止开发 ES4 时,其成员同意发布一个相对谦和的 ES5 版本,随后继续制定一些更具实质性的新特性。这一明确的协商协议最终命 名为“Harmony”(ES6)。  
2009 年发布的改进版本 ES5,引入了">
<meta property="og:type" content="article">
<meta property="og:title" content="深入浅出ES6笔记">
<meta property="og:url" content="http://www.haiyue.me/2016/02/18/ES6-in-depth/index.html">
<meta property="og:site_name" content="寻梦的尕柳">
<meta property="og:description" content="ES6 是什么
编程语言 JavaScript 是 ECMAScript 的实现和扩展,由 ECMA(一个类似 W3C 的标准组织)参与进行标准化。   
ES4 饱受争议,当标准委员会最终停止开发 ES4 时,其成员同意发布一个相对谦和的 ES5 版本,随后继续制定一些更具实质性的新特性。这一明确的协商协议最终命 名为“Harmony”(ES6)。  
2009 年发布的改进版本 ES5,引入了">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="深入浅出ES6笔记">
<meta name="twitter:description" content="ES6 是什么
编程语言 JavaScript 是 ECMAScript 的实现和扩展,由 ECMA(一个类似 W3C 的标准组织)参与进行标准化。   
ES4 饱受争议,当标准委员会最终停止开发 ES4 时,其成员同意发布一个相对谦和的 ES5 版本,随后继续制定一些更具实质性的新特性。这一明确的协商协议最终命 名为“Harmony”(ES6)。  
2009 年发布的改进版本 ES5,引入了">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="/webfonts/ptserif/main.css" rel='stylesheet' type='text/css'>
  <link href="/webfonts/source-code-pro/main.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-inner" class="inner">
      <a id="main-nav-toggle" class="nav-icon" href="javascript:;"></a>
      <a id="logo" class="logo logo-text" href="/">寻梦的尕柳</a>
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/">首页</a>
        
          <a class="main-nav-link" href="/categories/编程">编程</a>
        
          <a class="main-nav-link" href="/categories/笔记">笔记</a>
        
          <a class="main-nav-link" href="/categories/摄影">摄影</a>
        
          <a class="main-nav-link" href="/tags">标签</a>
        
          <a class="main-nav-link" href="/archives">归档</a>
        
          <a class="main-nav-link" href="/about">关于我</a>
        
      </nav>
      <nav id="sub-nav">
        <div id="search-form-wrap">
          <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="q" value="site:http://www.haiyue.me"></form>
        </div>
      </nav>
    </div>
  </div>
</header>
    <section id="main" class="outer"><article id="post-ES6-in-depth" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      深入浅出ES6笔记
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/02/18/ES6-in-depth/" class="article-date">
  <time datetime="2016-02-17T16:00:00.000Z" itemprop="datePublished">2016-02-18</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/笔记/">笔记</a>
  </div>

      
    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="ES6_是什么">ES6 是什么</h1><ul>
<li>编程语言 JavaScript 是 ECMAScript 的实现和扩展,由 ECMA(一个类似 W3C 的标准组织)参与进行标准化。   </li>
<li>ES4 饱受争议,当标准委员会最终停止开发 ES4 时,其成员同意发布一个相对谦和的 ES5 版本,随后继续制定一些更具实质性的新特性。这一明确的协商协议最终命 名为“Harmony”(ES6)。  </li>
<li>2009 年发布的改进版本 ES5,引入了 Object.create()、Object.defineProperty()、getters 和 setters、严格模式以及 JSON 对象。  </li>
<li>如果你想在 web 环境中使用这种新语法,同时需要支持 IE 和 Safari, 你可以使用 Babel 或 Google 的 Traceur 这些编译器来将你的 ES6 代码翻译为 Web 友好 的 ES5 代码。  </li>
</ul>
<a id="more"></a>
<h1 id="迭代器和_for-of_循环">迭代器和 for-of 循环</h1><h2 id="遍历数组中的元素">遍历数组中的元素</h2><ul>
<li><p>20 年前 JavaScript 刚萌生时     </p>
<pre><code><span class="keyword">for</span> (var <span class="keyword">index</span> = <span class="number">0</span>; <span class="keyword">index</span> &lt; myArray.<span class="keyword">length</span>; <span class="keyword">index</span>++) { 
    console.<span class="keyword">log</span>(myArray[<span class="keyword">index</span>]);
}
</code></pre></li>
<li><p>ES5 正式发布后  </p>
<pre><code>myArray.forEach(<span class="function"><span class="keyword">function</span> <span class="params">(value)</span> </span>{ 
    <span class="built_in">console</span>.log(value);
});  
</code></pre><p>  这段代码看起来更加简洁,但这种方法也有一个小缺陷:你不能使用 break 语句中 断循环,也不能使用 return 语句返回到外层函数。  </p>
</li>
<li><p>for-in 循环(千万别这样做, 是为普通对象设计的) </p>
<pre><code><span class="keyword">for</span> (<span class="reserved">var</span> index <span class="keyword">in</span> myArray) {
    <span class="built_in">console</span>.log(myArray[index]);
}
</code></pre><p>  在这段代码中,赋给index的值不是实际的数字,而是字符串“0”、“1”、“2”, 此时很可能在无意之间进行字符串算数计算,例如:“2” + 1 == “21”,这给 编码过程带来极大的不便。<br>  作用于数组的 for-in 循环体除了遍历数组元素外,还会遍历自定义属性。举个例子,如果你的数组中有一个可枚举属性 myArray.name,循环将额外执行 一次,遍历到名为“name”的索引。就连数组原型链上的属性都能被访问到。<br>  最让人震惊的是,在某些情况下,这段代码可能按照随机顺序遍历数组元素。<br>  简而言之,for-in 是为普通对象设计的,你可以遍历得到字符串类型的键,因此不适用于数组遍历。</p>
</li>
<li><p>ES6</p>
<pre><code><span class="keyword">for</span> (<span class="reserved">var</span> value <span class="keyword">of</span> myArray) {
    <span class="built_in">console</span>.log(value);
}
</code></pre><p>  for-in 循环用来遍历对象属性。<br>  for-of 循环用来遍历数据—例如数组中的值。</p>
</li>
</ul>
<h2 id="for-of_循环">for-of 循环</h2><pre><code><span class="keyword">for</span> (<span class="reserved">var</span> value <span class="keyword">of</span> myArray) {
  <span class="built_in">console</span>.log(value);
}
</code></pre><p>这是最简洁、最直接的遍历数组元素的语法<br>这个方法避开了 for-in 循环的所有缺陷<br>与 forEach()不同的是,它可以正确响应 break、continue 和 return 语句<br>for-of 循环不仅支持数组,还支持大多数类数组对象,例如 DOM NodeList 对象。<br>for-of 循环也支持字符串遍历,它将字符串视为一系列的 Unicode 字符来进行遍历  </p>
<pre><code><span class="reserved">var</span> str = <span class="string">'liuhaiming'</span>;
<span class="keyword">for</span>(<span class="reserved">var</span> chr <span class="keyword">of</span> str) {
  <span class="built_in">console</span>.log(chr);
}
</code></pre><p>for-of 循环也支持Set 对象  </p>
<pre><code>var uniqueWords = new Set(<span class="property">words</span>);
<span class="keyword">for</span> (var <span class="property">word</span> <span class="keyword">of</span> uniqueWords) {
  console.<span class="command">log</span>(<span class="property">word</span>);
}
</code></pre><p>for-of 循环也支持Map对象  </p>
<pre><code>for (<span class="built_in">var</span> [<span class="built_in">key</span>, <span class="built_in">value</span>] of phoneBookMap) {
  console.log(<span class="built_in">key</span> + <span class="string">"'s phone number is: "</span> + <span class="built_in">value</span>);
}
</code></pre><p>for-of 循环不支持普通对象,但如果你想迭代一个对象的属性,你可以用 for-in 循 环(这也是它的本职工作)或内建的 Object.keys()方法:</p>
<pre><code><span class="comment">// 向控制台输出对象的可枚举属性</span>
<span class="keyword">for</span> (var <span class="variable">key</span> of <span class="keyword">Object</span>.keys(someObject)) {
  console.<span class="built_in">log</span>(<span class="variable">key</span> + <span class="string">": "</span> + someObject[<span class="variable">key</span>]);
}
</code></pre><p><br></p>

      
    </div>
    
    
      <footer class="article-footer">
        
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>

      </footer>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/23/promises/" id="article-nav-newer" class="article-nav-link-wrap">
      <div class="article-nav-title"><span>&lt;</span>&nbsp;
        
          We have a problem with promises
        
      </div>
    </a>
  
  
    <a href="/2016/02/16/photo/sanyacunjie/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">三亚春节&nbsp;<span>&gt;</span></div>
    </a>
  
</nav>

  
</article>


  <section id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="post-ES6-in-depth" data-title="深入浅出ES6笔记" data-url="http://www.haiyue.me/2016/02/18/ES6-in-depth/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:'liuhaiming'};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
      </script>
    <!-- 多说公共JS代码 end -->
  </section>
  </section>
    <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 寻梦的尕柳&nbsp;
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>, theme by <a href="http://github.com/ppoffice">PPOffice</a>
    </div>
  </div>
</footer>
    

<script src="/js/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>
  </div>
</body>
</html>